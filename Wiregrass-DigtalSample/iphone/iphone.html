
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />


 <style>  
  
/* Z-index of #mask must lower than #boxes .window */  
#mask {  
  position:absolute;  
  z-index:9000;  
  background-color:#000;  
  display:none;  
}  
    
#boxes .window {  
  position:absolute;  
  width:440px;  
  height:200px;  
  display:none;  
  z-index:9999;  
  padding:20px;  
}  
  
  
/* Customize your modal window here, you can add background image too */  
#boxes #dialog {  
  width:375px;   
  height:203px;  
}  


 
 .form {font-size: 10pt; color: #333333; font-family: Arial, Helvetica, sans-serif; }
</style>
<script type="text/javascript" src="http://www.inhousedigitalpublishing.com/js/jquery-1.4.2.min.js"></script>
<meta content="width=device-width,initial-scale=1.0, minimum-scale=1, maximum-scale=2, user-scalable=yes" name="viewport">
<!--<script type="text/javascript" src="jquery.touchwipe.1.1.1.js"></script>-->
<script type="text/javascript" src="jquery.touchwipe.min.js"></script>
<script type="text/javascript" src="searchindex.js"></script>
<script type="text/javascript" src="info.js"></script>


<script type="text/javascript" >

$(document).bind("mobileinit", function(){
      $.mobile.metaViewportContent = "width=device-width, minimum-scale=1, maximum-scale=2";
});

</script>
<script type="text/javascript">
xmlDocument = new XMLHttpRequest(); 
	var documentXML=mainpath.concat('document.xml')
	xmlDocument.open("GET", documentXML, false);     // here we need the path to xml document                   
	xmlDocument.send();                        
	xmlDocument=xmlDocument.responseXML; 
	var items = xmlDocument.getElementsByTagName("normal");
	var OrgImgHeight ="";
	var OrgImgWidth="";
	OrgImgWidth = items[0].attributes.getNamedItem("width").value;
	OrgImgHeight= items[0].attributes.getNamedItem("height").value;
	var ImgHeight=320;
	var ImgWidth=(ImgHeight* OrgImgWidth)/OrgImgHeight;
	





var link=document.referrer;

<!-- total pages

var imgsrc;
function querySt(ji)
	 {
	hu = window.location.search.substring(1);
	
	gy = hu.split("&");
	for (i=0;i<gy.length;i++) {
	ft = gy[i].split("=");
	if (ft[0] == ji) {
	return ft[1];
					}
				}
	}
var areaElem = new Array;
var videoElem = new Array;
var koko = querySt("koko");
if (hu && hu.substring(0,3)!='sea')
	var pagenum=hu;
else 
	pagenum=1;
var thisPageMap='#'+'page'+pagenum;
var currentXMLSrc="";

function init()
	{window.scrollTo(0,1);
	//document.getElementById('pagelabel').innerHTML=pagenum+"/"+total;
	var path=mainpath.concat("Page_");
	var currentImgSrc=path.concat(pagenum,".jpg");
	currentXMLSrc=path.concat(pagenum,".xml");
	return currentImgSrc;
	}


function preload()
	{window.scrollTo(0,1);
		$(document).bind("mobileinit", function(){
      $.mobile.metaViewportContent = "width=device-width, minimum-scale=1, maximum-scale=2";
});
		 imgsrc=init();
		loadlinks(currentXMLSrc);
		loadvideos(currentXMLSrc);
	if (pagenum+2<total)
	 	 {
			imageObj = new Image();
			 images = new Array();
				images[0]=imgsrc+1;
				images[1]=imgsrc+2;
		}
		var flippage = document.getElementById("maintbl");
		var oImg=document.createElement("img"); 
		oImg.setAttribute('src', imgsrc);
		oImg.setAttribute('style', "max-height:"+ImgHeight+"px");
		oImg.setAttribute('id', "childimg");
		oImg.setAttribute('usemap',"linkMap");
		flippage.appendChild(oImg);
	  
	}



function nextpage()
	{window.scrollTo(0,1);
		var allLinks=document.getElementById("linkMap").areas;
	// for (var intLoop = 0; intLoop <= allLinks.length; intLoop++)
                 // document.getElementById('linkMap').areas.remove(intLoop);
			//	 document.getElementById('linkMap').removeChild(document.getElementById('linkMap').childNodes[intLoop]);
	var ctrl=document.getElementById("linkMap");
	 while (ctrl.childNodes[0])
 	 {
   		 ctrl.removeChild(ctrl.childNodes[0]);
 	 }
	 
	$(document).bind("mobileinit", function(){
      $.mobile.metaViewportContent = "width=device-width, minimum-scale=1, maximum-scale=2";
});
	
	// for (var intLoop = 0; intLoop <= allLinks.length; intLoop++)
                 // document.getElementById('linkMap').areas.remove(intLoop);
			//	 document.getElementById('linkMap').removeChild(document.getElementById('linkMap').childNodes[intLoop]);
	var videoCtrl=document.getElementById("myscreen");
	 while (videoCtrl.childNodes[0])
 	 {
   		 videoCtrl.removeChild(videoCtrl.childNodes[0]);
 	 }
	 
	if (parseInt(pagenum)<total){	
		mainpathp=imgsrc.substr(0,41);
		nextpg=mainpathp.concat(++pagenum);
		nextXML=nextpg.concat(".xml");
		nextpg=nextpg.concat(".jpg");
		var child= document.getElementById("childimg");
		child.setAttribute('src', nextpg);
		loadlinks(nextXML);
		loadvideos(nextXML);
		}

document.getElementById('pagelabel').innerHTML=pagenum+"/"+total;

	}


function previouspage()
	{
	window.scrollTo(0,1);
		
		var allLinks=document.getElementById("linkMap").areas;
	// for (var intLoop = 0; intLoop <= allLinks.length; intLoop++)
                 // document.getElementById('linkMap').areas.remove(intLoop);
			//	 document.getElementById('linkMap').removeChild(document.getElementById('linkMap').childNodes[intLoop]);
	var ctrl=document.getElementById("linkMap");
	 while (ctrl.childNodes[0])
 	 {
   		 ctrl.removeChild(ctrl.childNodes[0]);
 	 }
		$(document).bind("mobileinit", function(){
      $.mobile.metaViewportContent = "width=device-width, minimum-scale=1, maximum-scale=8";
});
		
			var videoCtrl=document.getElementById("myscreen");
	 while (videoCtrl.childNodes[0])
 	 {
   		 videoCtrl.removeChild(videoCtrl.childNodes[0]);
 	 }
		
		if (parseInt(pagenum)>1)
		{
		mainpathp=imgsrc.substr(0,41);
			prevpg=mainpathp.concat(--pagenum);
			prevXML=prevpg.concat(".xml");
			prevpg=prevpg.concat(".jpg");
		var child= document.getElementById("childimg");
		child.setAttribute('src', prevpg);
		loadlinks(prevXML);
		loadvideos(prevXML);
		}
		document.getElementById('pagelabel').innerHTML=pagenum+"/"+total;
	}

//links
function loadlinks(pageNo) {
xmlDoc = new XMLHttpRequest(); 
						var mainxmlpath=mainpath.concat(pageNo)
            xmlDoc.open("GET", mainxmlpath, false);     // here we need the path to xml document                   
            xmlDoc.send();                        
            xmlDoc=xmlDoc.responseXML; 
	var wRatio=parseInt(ImgWidth)/parseInt(OrgImgWidth);
	var hRatio=parseInt(ImgHeight)/parseInt(OrgImgHeight);
	var allitems = xmlDoc.getElementsByTagName("link");
	var Linklocation ="";
	var Linkurl ="";
	var Linktype ="";
	var autoPlay="";
	
		for (var i=0;i<allitems.length;i++) {
// see if the XML entry matches the search term,
// and (if so) store it in an array
			Linklocation = allitems[i].attributes[0].nodeValue;
			Linkurl = allitems[i].attributes.getNamedItem("url").value;
			Linktype=allitems[i].attributes.getNamedItem("linktype").value;
			//autoPlay=allitems[i].attributes[2].nodeValue;
			if (Linktype=="1") Linkurl="mailto:"+Linkurl;
			if (Linktype=="2") Linkurl="iphone.html?"+Linkurl;
			if (Linktype==0) 
				if (Linkurl.substr(0,7)!="http://") Linkurl="http://"+Linkurl;
		
			var X;var Y;var T; var X1,Y1;
			var onIMGlocation= Linklocation.replace(/ /gi, ",");
			X=onIMGlocation.substr(0,onIMGlocation.indexOf(","));
		
			T=onIMGlocation.substr(X.length+1,(onIMGlocation.length)-(X.length));
			
			
			Y=T.substr(0,T.indexOf(","));
			T=T.substr(Y.length+1,(T.length)-(Y.length));
			//X=parseInt(X)*wRatio;
			//Y=parseInt(Y)*hRatio;
			X=parseInt(X);
			Y=parseInt(Y);
			X1=T.substr(0,T.indexOf(","));
			Y1=T.substr(X1.length+1, (T.length)-(X1.length));
			X1=(X+parseInt(X1))*wRatio;
			Y1=(Y+parseInt(Y1))*hRatio;
			X=parseInt(X)*wRatio;
			Y=parseInt(Y)*hRatio;
			
			
			onIMGlocation=X+','+Y+','+X1+','+Y1;
		
			areaElem[i] = document.createElement('area');
			areaElem[i].setAttribute('shape', "rect");
			areaElem[i].setAttribute('coords',onIMGlocation );
			areaElem[i].setAttribute('href', Linkurl);
			
			document.getElementById('linkMap').appendChild(areaElem[i]);
		}
		
}
	


function loadvideos(pageNo) {
xmlDoc = new XMLHttpRequest(); 
						var mainxmlpath=mainpath.concat(pageNo)
            xmlDoc.open("GET", mainxmlpath, false);     // here we need the path to xml document                   
            xmlDoc.send();                        
            xmlDoc=xmlDoc.responseXML; 
			
	var wRatio=parseInt(ImgWidth)/parseInt(OrgImgWidth);
	var hRatio=parseInt(ImgHeight)/parseInt(OrgImgHeight);
	var allitems = xmlDoc.getElementsByTagName("video");
	var Linklocation ="";
	var Linkurl="";
	var controls="";
	var autoPlay="";
	var videoLoop="";
		for (var i=0;i<allitems.length;i++) {
// see if the XML entry matches the search term,
// and (if so) store it in an array
			Linklocation = allitems[i].attributes[1].nodeValue;
			Linkurl = allitems[i].attributes.getNamedItem("url").value;
			controls= allitems[i].attributes.getNamedItem("showcontrols").value;
			autoPlay= allitems[i].attributes.getNamedItem("autoplay").value;
			videoLoop=allitems[i].attributes.getNamedItem("playloop").value;
			var X;var Y;var T; var X1,Y1;
			var onIMGlocation= Linklocation.replace(/ /gi, ",");
			X=onIMGlocation.substr(0,onIMGlocation.indexOf(","));
		
			T=onIMGlocation.substr(X.length+1,(onIMGlocation.length)-(X.length));
			
			
			Y=T.substr(0,T.indexOf(","));
			T=T.substr(Y.length+1,(T.length)-(Y.length));
			//Start Point
			X=((parseInt(X)) + ((320-parseInt(ImgWidth))/2))*wRatio;
			Y=(parseInt(Y))*hRatio +20;
			
			X1=T.substr(0,T.indexOf(","));
			Y1=T.substr(X1.length+1, (T.length)-(X1.length));
			//width & Height
			X1=parseInt(X1)*wRatio;
			Y1=parseInt(Y1)*hRatio+20;
		
			
		//	DivX=parseInt(Y1-22)*wRatio;
			videoElem[i] = document.createElement('div');
			//videoElem[i].setAttribute('style', "position: absolute; left: "+X+"px; top: "+Y+"px; height: "+DivX+"px; width: "+X1+"px; padding: 1em;  background-color:red;");
			videoElem[i].setAttribute('style', "position: absolute; left: "+X+"px; top: "+Y+"px; height: "+Y1+"px; width: "+X1+"px; padding: 1em;  ");
			//if (i==1) areaElem[i].setAttribute('coords', "0,0,282,226");
			myvideo=document.createElement('video');
			myvideo.setAttribute('width',X1);
			myvideo.setAttribute('height',Y1);
			if (autoPlay==1)
				myvideo.setAttribute('autoplay',"autoplay");
			if (controls==1)
				myvideo.setAttribute('controls',"controls");
			if (videoLoop==1)
				myvideo.setAttribute('loop',"loop");
			
			myvideo.setAttribute('src',mainpath+"res/"+Linkurl);
			videoElem[i].appendChild(myvideo);
			document.getElementById('myscreen').appendChild(videoElem[i]);
			
			
			



    
			
		}
		
}
	
function thumb()
 {
 	var thumbUrl="";
		thumbUrl="iphone.html?".concat("thumb=1");
		document.getElementById('thumb').href=thumbUrl;
	 /*var mainTableForThumb = document.getElementById("maintbl");
	 if ( mainTableForThumb.hasChildNodes() )
		{
		while ( mainTableForThumb.childNodes.length >= 1 )
		{
			mainTableForThumb.removeChild( mainTableForThumb.firstChild );       
		} 
	}

				thumbRow=new Array();
				thumbCell=new Array();

				t_row_num=total/2; //edit this value to suit
				t_cell_num=2; //edit this value to suit

				t_tab=document.createElement('table');
				t_tab.setAttribute('id','t_newtable');
				var thumbNo=1;
				t_tbo=document.createElement('tbody');
	for( var i=0;i<t_row_num;i++)
	{
		thumbRow[i]=document.createElement('tr');
		for (var k=0;	k<t_cell_num; k++)
		{
			var t_source=mainpath.concat("Thumbnail_"+thumbNo+".jpg");
			//alert(t_source);
			var t_listitem = document.createElement("img");
			var t_anchor=document.createElement("a");
			t_anchor.setAttribute('href','iphone.html?'+thumbNo);
			t_listitem.setAttribute('src',t_source);
			t_listitem.setAttribute('style','max-width:150px');
			t_anchor.appendChild(t_listitem);
			thumbCell[k]=document.createElement('td');
			thumbCell[k].appendChild(t_anchor);
			thumbRow[i].appendChild(thumbCell[k]);
			++thumbNo;
			if (thumbNo > total )
				break;
		}

	t_tbo.appendChild(thumbRow[i]);
	}
	t_tab.appendChild(t_tbo);
	var container=document.createElement('div');
	container.setAttribute('style','width:300px;height:600px;overflow:auto;');
	container.appendChild(t_tab);
	mainTableForThumb.appendChild(container);
 */
 }
 
 
function sendmail()
	{
		var sendmailurl="";
		sendmailurl="iphone.html?".concat("send="+pagenum);
		document.getElementById('email').href=sendmailurl;
	}


function gotohome()
	{
	var prevurl="";
		homeurl="iphone.html";
		document.getElementById('home').href=homeurl;
	}



function searchPub()
{
	var searchurl="";
	searchurl="iphone.html?search=".concat(document.getElementById('searchme').value);
	document.getElementById('search').href=searchurl;
}



function validate_required(field,alerttxt)
{
	with (field)
	  {
	  if (value==null||value=="")
		{
		alert(alerttxt);return false;
		}
	  else
		{
		return true;
		}
	  }
}

function touchMove(event) {
	event.preventDefault();
  
  
var x = event.touches[0].pageX;

var y = event.touches[0].pageY;
nextpage();
}

function validate_form(thisform)
{
	with (thisform)
		  {
		  var flag=true;
		  if (validate_required(sname,"Sender's name must be filled out!")==false)
		  {sname.focus(); flag=false;}
		  else   if (validate_required(semail,"Sender's Email must be filled out!")==false)
		  {semail.focus();flag=false;}
		  else   if (validate_required(rname,"Recipient's name must be filled out!")==false)
		  {rname.focus();flag=false;}
		  else   if (validate_required(remail,"Recipient's Email must be filled out!")==false)
		  {remail.focus();flag=false;}
		  else   if (validate_required(subject,"Subject must be filled out!")==false)
		  {subject.focus();flag=false;}
		  else if(validate_required(comment,"Message must be filled out!")==false)
		  {comment.focus();flag=false;}
		  if (flag) alert('Your message has been successfully sent');
		  return flag;
			}
	var keyword;
}








-->
</script>

</head>
<body style="margin: 0px; padding: 0px; background-color: #cccccc; text-align: center;" id="ipadBody">
<map name="linkMap" id="linkMap"> </map>
<div id="myscreen">
</div> 
<div>
  <table cellpadding="0" cellspacing="0" border="0" style="width: 320px; text-align: center; " >
        <tr>
        	<form>
            
            <table id="Table_01" width="320" border="0" cellpadding="0" cellspacing="0" height="40">
	<tr>
		<td colspan="3">
			<img  src="images/tiphone_01.jpg" width="320" height="9" alt="" usemap="#Map" /></td>
	</tr>
	<tr>
		<td rowspan="2">
			<img src="images/tiphone_02.jpg" width="202" height="30" alt="" usemap="#Map" /></td>
		<td width="82" height="19"  align="center"  bgcolor="white" ><input type="text" id="searchme" style="border:none; height:16px;" size="7" /></td>
		<td rowspan="2">
			<img id="Untitled_1_04" src="images/tiphone_04.jpg" width="36" height="30" alt="" usemap="#Mapsearch"/></td>
	</tr>
	<tr>
		<td>
			<img  src="images/tiphone_05.jpg" width="82" height="11" alt="" usemap="#Map" /></td>
	</tr>
</table>     
            
           
            
   
</form>
      </tr>
  </table>
</div>
<div>

<table id="tabs" border="0" cellspacing="0" cellpadding="0" style="width: 320px; text-align: center;">
	<tr style="height: 44px;"> 
    		<td id="maintbl" align="center">
			<script type="text/javascript"> 
				if (hu.substr(0,hu.indexOf('='))=="thumb")
				 {			
				 			
							  t_row_num=total/2; 
							  t_cell_num=2; 
			  					var thumbTable="<table border='0' >";
							 var tdTag="";
							 var trTag="";	
							  var thumbNo=1;
							  
						  for( var i=0;i<t_row_num;i++)
						  {
							  
							  for (var k=0;	k<t_cell_num; k++)
							  {
								  	var t_source=mainpath.concat("Thumbnail_"+thumbNo+".jpg");
						 			tdTag=tdTag + "<td><a href='iphone.html?"+thumbNo+"'><img src='"+t_source+"' border='0' /></a></td>";
									++thumbNo;
									if (thumbNo > total )
							 			 break;
								}
								
			  					 trTag=trTag+"<tr>"+tdTag+"</tr>";
								 tdTag="";
						
				 			}
				  
				  //mainTableForThumb.appendChild(t_tab);
			  /* var container=document.createElement('div');
				  container.setAttribute('style','position:fixed; height:2000px; margin-left:30px;margin-right: 20px; overflow:scroll;');
				  container.appendChild(t_tab);
				  mainTableForThumb.appendChild(container);*/
				 				 thumbTable=thumbTable+trTag+"</table>";
							
								  document.write(thumbTable);
					
				}
				else if (hu.substr(0,hu.indexOf('='))=="send")
						{ 
						link=link+"?"+hu.substr(hu.indexOf('=')+1,hu.lenght);
						var frmnode="<table width='320' id='sendmail' border'0'><form action='http://download.epaperflip.com/offline/mail.php' onsubmit='return validate_form(this)' method='post' id='emailfrm'>";
						var tblenode="<div align='center'><table width='320' border='0'><tr><td colspan='3' height='60'> <input type='radio' checked name='link' id='linktopage' value='linktopage'><span class='form'>Send the link to the current page</span><p></p><input type='radio' name='link' id='linktowhole' value='linktowhole'><span class='form'>Send the link to the entire edition</span></label></td><tr><td heigh='20'></td></tr><tr><td width='122'><span class='form'>Sender's Name</span></td><td width='20'><input type='text' name='sname'  id='sname'></td></tr>";
						var tr1node="<tr><td height='40' width='132'><span class='form'>Sender's Email </span></td><td><label><input type='text' name='semail' id='semail'></label></td><td>&nbsp;</td></tr>";
						var tr2node="<tr><td height='40'><span class='form'>Recipent Name</span></td><td><label><input type='text' name='rname' id='rname'></label></td><td>&nbsp;</td> </tr>";
						var tr3node="<tr><td height='40'><span class='form'>Recipient Email</span></td><td><label><input type='text' name='remail' id='remail'> </label></td><td>&nbsp;</td> </tr>";
						var trsubj="<tr><td height='40'><span class='form'>Subject</span></td><td><label><input type='text' name='subject' id='subject'> </label></td><td>&nbsp;</td> </tr>";
						var tr4node="<tr><td height='40'><span class='form'>Message</span></td><td><label><textarea name='message' id='comment' cols='23' rows='6'></textarea></label></td> <td>&nbsp;</td></tr>";
                        var tr5node="<tr><td>&nbsp;</td><td><label><input type='submit' name='submit' id='submit' value='Send'></label></td><td>&nbsp;</td></tr></table></div><input type='hidden' name='linktopub' value='"+link+"'></form></table>";
                        document.write(frmnode+tblenode+tr1node+tr2node+tr3node+trsubj+tr4node+tr5node);
                         //alert(link);
						}
			
				else 
						{
						preload();	
				//		document.write('<table width="300" border="0"> <tr> <td width="300">  </td> </tr> </table>' );					
						}
						</script></td>
	</tr>
</table>


</div>



<map name="Map">
<area shape="rect" coords="7,4,38,23" id="home" onClick="gotohome();" alt="Home">
<area shape="rect" coords="124,0,153,21" id="next" onClick="nextpage(); return false;" alt="Next Page">
<area shape="rect" coords="85,0,114,20" id="prev" onClick="previouspage();" alt="Previous Page">
<area shape="rect" coords="47,1,75,25" id="thumb" onClick="thumb();" alt="Thubmnails">
<area shape="rect" coords="161,3,190,24" id="email" onClick="sendmail();" alt="Send To Friend">
</map>
<map name="MapSearch">
<area shape="rect" coords="8,2,31,26" id="search" onClick="searchPub();" alt="Search">
</map>
</div>  
<div id="resultshere">
</div>
<script type="text/javascript">
$("#maintbl").touchwipe({
     wipeLeft: function() { nextpage(); },
     wipeRight: function() { previouspage(); },
     min_move_x: 20,
     min_move_y: 20,
     preventDefaultEvents: function () { if ( (hu.substr(0,hu.indexOf('='))!="thumb")    && (hu.substr(0,hu.indexOf('='))!="search")  ) return true; else return false; }
}); </script>
<div id="pagelabel" style="position:absolute; padding-left:140px; padding-top:5px; font-family:Arial, Helvetica, sans-serif; font-size:9pt;"></div>


<script>
if(hu.substr(0,hu.indexOf('='))=="search")
							{
							document.getElementById("searchme").value=hu.substr(hu.indexOf('=')+1,hu.lenght);
							searchIndex();
							}
</script>

<!-- Google Analytics Tracking Code -->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-34898365-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<!-- End Google Analytics Tracking Code -->

</body>
</html>